parameters:
  - name : current_sprint 
    type : string
  - name : minor
    type : string
  - name: artifact_name
    type: string
  - name: azure_subscription
    type: string
  - name: mfe
    type: string
  - name: version_number
    type: string
  - name: environment
    type: string



steps:

      - task: Npm@1
        displayName: 'npm run build'
        inputs:
          command: custom
          workingDir: $(Build.SourcesDirectory)
          verbose: false
          customCommand: 'run build'


      - task: AzureCLI@2
        displayName: Copying buildartifacts to storage account 
        inputs:
          azureSubscription: '${{ parameters.azure_subscription }}'
          scriptType: 'bash'
          scriptLocation: 'inlineScript'
          inlineScript: |
            az storage blob upload-batch -d "${{ parameters.artifact_name }}"  --account-name "stdigitalebg${{ parameters.environment }}cus" -s  "$(mfe)"

          